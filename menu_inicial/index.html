<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cronos — Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Exo+2:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
<canvas id="bg-canvas"></canvas>
<div class="toast-container" id="toastContainer"></div>

<div class="app">
  <!-- SIDEBAR -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-logo">
      <svg class="logo-ring" viewBox="0 0 38 38" fill="none">
        <circle cx="19" cy="19" r="15" stroke="#fff7ab" stroke-width="1.2" stroke-dasharray="4 3"/>
        <circle cx="19" cy="19" r="8" stroke="#a86dff" stroke-width="1.2"/>
        <circle cx="19" cy="19" r="2.5" fill="#fff7ab"/>
        <line x1="19" y1="4" x2="19" y2="7" stroke="#fff7ab" stroke-width="1.2"/>
        <line x1="19" y1="31" x2="19" y2="34" stroke="#fff7ab" stroke-width="1.2"/>
        <line x1="4" y1="19" x2="7" y2="19" stroke="#fff7ab" stroke-width="1.2"/>
        <line x1="31" y1="19" x2="34" y2="19" stroke="#fff7ab" stroke-width="1.2"/>
      </svg>
      <div class="logo-name">CRONOS<small>USANDO O TEMPO AO SEU FAVOR</small></div>
    </div>
    <div class="nav-section">
      <div class="nav-label">Principal</div>
      <a class="nav-item active" data-view="dashboard">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
        Dashboard
      </a>
      <a class="nav-item" data-view="projetos">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="2" y="7" width="20" height="14" rx="2"/><path d="M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2"/><line x1="12" y1="12" x2="12" y2="16"/><line x1="10" y1="14" x2="14" y2="14"/></svg>
        Projetos <span class="nav-badge" id="badgeProjetos">0</span>
      </a>
      <a class="nav-item" data-view="tarefas">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/></svg>
        Tarefas
      </a>
      <a class="nav-item" data-view="membros">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
        Membros
      </a>
    </div>
    <div class="sidebar-bottom">
      <div class="user-chip" id="userChipBtn">
        <div class="user-avatar" id="loggedAvatar">GL</div>
        <div class="user-info">
          <div class="user-name" id="loggedName">George L.</div>
          <div class="user-role" id="loggedRole">Admin · Cronos</div>
        </div>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#9580b8" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
      </div>
    </div>
  </aside>

  <div class="main">
    <!-- TOPBAR -->
    <header class="topbar">
      <div class="topbar-left">
        <h1 id="topbarTitle">Dashboard</h1>
        <p>Visão geral · <span id="topbarDate"></span></p>
      </div>
      <div class="topbar-right">
        <!-- NOTIFICATION BUTTON + PANEL -->
        <div class="notif-wrapper">
          <div class="notif-btn">
            <svg viewBox="0 0 24 24"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
            <div class="notif-dot"></div>
            <span class="notif-badge" id="notifBadge" style="display:none">0</span>
          </div>
          <!-- NOTIFICATION PANEL -->
          <div class="notif-panel" id="notifPanel">
            <div class="notif-panel-header">
              <div class="notif-panel-title">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
                Notificações
              </div>
              <button class="btn btn-ghost btn-sm" id="btnMarkAllRead">Marcar todas</button>
            </div>
            <div class="notif-panel-hint">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" width="13" height="13"><path d="M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z"/><polyline points="13 2 13 9 20 9"/></svg>
              Pronto para conectar via FastAPI
            </div>
            <div class="notif-panel-list" id="notifPanelList">
              <div class="notif-empty">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
                <p>Nenhuma notificação</p>
                <small>As notificações aparecerão aqui quando conectado à API</small>
              </div>
            </div>
          </div>
        </div>

        <button class="btn btn-primary" id="btnNovoProj">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          Novo Projeto
        </button>
      </div>
    </header>

    <!-- CONTENT VIEWS -->
    <div class="content">
      <!-- DASHBOARD -->
      <div class="view active" id="view-dashboard">
        <div class="kpi-grid" id="kpiGrid"></div>
        <div class="dash-grid">
          <div class="panel">
            <div class="panel-header">
              <div class="panel-title"><svg viewBox="0 0 24 24"><rect x="2" y="7" width="20" height="14" rx="2"/><path d="M16 7V5a2 2 0 00-4 0v2"/></svg>Projetos em Andamento</div>
              <button class="btn btn-ghost" style="padding:.35rem .8rem;font-size:.78rem" data-view="projetos">Ver todos →</button>
            </div>
            <table class="proj-table"><thead><tr><th>Projeto</th><th>Status</th><th>Progresso</th><th>Dias restantes</th></tr></thead><tbody id="projBody"></tbody></table>
          </div>
          <div class="panel">
            <div class="panel-header"><div class="panel-title"><svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>Previsão Inteligente</div></div>
            <div class="forecast-list" id="forecastList"></div>
          </div>
        </div>
        <div class="bottom-grid">
          <div class="panel">
            <div class="panel-header"><div class="panel-title"><svg viewBox="0 0 24 24"><polyline points="3 17 8 11 12 14 18 7 21 10"/><line x1="3" y1="21" x2="21" y2="21"/></svg>Esforço × Estimado (h)</div></div>
            <div class="chart-wrap"><canvas id="effortChart" class="chart"></canvas></div>
          </div>
          <div class="panel">
            <div class="panel-header"><div class="panel-title"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>Atividade Recente</div></div>
            <div class="hist-list" id="histList"></div>
          </div>
          <div class="panel">
            <div class="panel-header"><div class="panel-title"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 8v4l3 3"/></svg>Velocidade por Projeto</div><span style="font-size:.7rem;color:var(--texto-dim)">Est. vs Real</span></div>
            <div class="velocity-list" id="velocityList"></div>
          </div>
        </div>
      </div>

      <!-- PROJETOS -->
      <div class="view" id="view-projetos">
        <div class="task-filters">
          <button class="btn btn-primary" id="btnNovoProjView"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="15" height="15"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Novo Projeto</button>
          <select class="filter-select" id="filtroStatusProj"><option value="">Todos os status</option><option value="ok">No Prazo</option><option value="warn">Atenção</option><option value="risk">Em Risco</option><option value="idle">Iniciando</option></select>
        </div>
        <div class="proj-full-grid" id="projFullGrid"></div>
      </div>

      <!-- TAREFAS -->
      <div class="view" id="view-tarefas">
        <div class="task-filters">
          <button class="btn btn-primary" id="btnNovaTarefa"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="15" height="15"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Nova Tarefa</button>
          <select class="filter-select" id="filtroProjetoTarefa"><option value="">Todos os projetos</option></select>
          <select class="filter-select" id="filtroPrioTarefa"><option value="">Todas as prioridades</option><option value="critica">Crítica</option><option value="alta">Alta</option><option value="media">Média</option><option value="baixa">Baixa</option></select>
        </div>
        <div class="task-board">
          <div class="task-col"><div class="task-col-header"><span class="task-col-title" style="color:var(--azul)">▸ A Fazer</span><span class="task-count" id="countTodo">0</span></div><div class="task-items" id="colTodo"></div></div>
          <div class="task-col"><div class="task-col-header"><span class="task-col-title" style="color:var(--amarelo)">⟳ Em Andamento</span><span class="task-count" id="countDoing">0</span></div><div class="task-items" id="colDoing"></div></div>
          <div class="task-col"><div class="task-col-header"><span class="task-col-title" style="color:var(--verde)">✓ Concluído</span><span class="task-count" id="countDone">0</span></div><div class="task-items" id="colDone"></div></div>
        </div>
      </div>

      <!-- MEMBROS -->
      <div class="view" id="view-membros">
        <div class="task-filters">
          <button class="btn btn-primary" id="btnNovoMembro"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="15" height="15"><path d="M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" y1="8" x2="19" y2="14"/><line x1="22" y1="11" x2="16" y2="11"/></svg>Adicionar Membro</button>
        </div>
        <div class="members-grid" id="membersGrid"></div>
      </div>
    </div>
  </div>
</div>

<!-- ════════════ MODAIS ════════════ -->

<!-- MODAL PROJETO -->
<div class="modal-overlay" id="modalProj">
  <div class="modal">
    <div class="modal-header"><div class="modal-title" id="modalProjTitle">✦ Novo Projeto</div><div class="modal-close" data-close="modalProj">✕</div></div>
    <input type="hidden" id="editProjId"/>
    <div class="form-group"><label>Nome do Projeto</label><input type="text" id="projNome" placeholder="Ex: Sistema de Pagamentos v2"/></div>
    <div class="form-group"><label>Descrição</label><textarea id="projDesc" placeholder="Breve descrição..."></textarea></div>
    <div class="form-row">
      <div class="form-group"><label>Categoria</label><select id="projCat"><option value="">Selecionar...</option><option value="web">Web</option><option value="mobile">Mobile</option><option value="dados">Dados & Analytics</option><option value="infra">Infraestrutura</option><option value="design">Design</option></select></div>
      <div class="form-group"><label>Status</label><select id="projStatus"><option value="idle">Iniciando</option><option value="ok">No Prazo</option><option value="warn">Atenção</option><option value="risk">Em Risco</option></select></div>
    </div>
    <div class="form-row">
      <div class="form-group"><label>Prazo Estimado (dias)</label><input type="number" id="projPrazo" placeholder="60" min="1"/></div>
      <div class="form-group"><label>Esforço Estimado (h)</label><input type="number" id="projEsforco" placeholder="120" min="1"/></div>
    </div>
    <div class="form-row">
      <div class="form-group"><label>Progresso (%)</label><input type="number" id="projProg" placeholder="0" min="0" max="100"/></div>
      <div class="form-group"><label>Dias Restantes</label><input type="number" id="projDias" placeholder="30" min="0"/></div>
    </div>
    <div class="previsao-box" id="previsaoBox">
      <h4>⚡ Previsão com Base no Histórico</h4>
      <div class="prev-row"><span>Prazo revisado:</span><span id="prevPrazo">—</span></div>
      <div class="prev-row"><span>Esforço real esperado:</span><span id="prevEsf">—</span></div>
      <div class="prev-row"><span>Risco de atraso:</span><span id="prevRisco">—</span></div>
      <div class="prev-row"><span>Confiança:</span><span id="prevConf">—</span></div>
    </div>
    <div class="modal-actions"><button class="btn btn-ghost" data-close="modalProj">Cancelar</button><button class="btn btn-primary" id="btnSalvarProj">Criar Projeto</button></div>
  </div>
</div>

<!-- MODAL TAREFA -->
<div class="modal-overlay" id="modalTarefa">
  <div class="modal">
    <div class="modal-header"><div class="modal-title" id="modalTarefaTitle">✦ Nova Tarefa</div><div class="modal-close" data-close="modalTarefa">✕</div></div>
    <input type="hidden" id="editTarefaId"/>
    <div class="form-group"><label>Título da Tarefa</label><input type="text" id="tarefaTitulo" placeholder="Ex: Implementar autenticação JWT"/></div>
    <div class="form-row">
      <div class="form-group"><label>Projeto</label><select id="tarefaProjeto"><option value="">Selecionar...</option></select></div>
      <div class="form-group"><label>Responsável</label><select id="tarefaResponsavel"><option value="">Nenhum</option></select></div>
    </div>
    <div class="form-row">
      <div class="form-group"><label>Prioridade</label><select id="tarefaPrio"><option value="media">Média</option><option value="alta">Alta</option><option value="critica">Crítica</option><option value="baixa">Baixa</option></select></div>
      <div class="form-group"><label>Status</label><select id="tarefaStatus"><option value="todo">A Fazer</option><option value="doing">Em Andamento</option><option value="done">Concluído</option></select></div>
    </div>
    <div class="form-group"><label>Estimativa de Horas</label><input type="number" id="tarefaHoras" placeholder="8" min="0.5" step="0.5"/></div>
    <div class="modal-actions"><button class="btn btn-ghost" data-close="modalTarefa">Cancelar</button><button class="btn btn-primary" id="btnSalvarTarefa">Criar Tarefa</button></div>
  </div>
</div>

<!-- MODAL MEMBRO -->
<div class="modal-overlay" id="modalMembro">
  <div class="modal">
    <div class="modal-header"><div class="modal-title" id="modalMembroTitle">✦ Adicionar Membro</div><div class="modal-close" data-close="modalMembro">✕</div></div>
    <input type="hidden" id="editMembroId"/>
    <div class="form-row">
      <div class="form-group"><label>Nome</label><input type="text" id="membroNome" placeholder="João"/></div>
      <div class="form-group"><label>Sobrenome</label><input type="text" id="membroSob" placeholder="Silva"/></div>
    </div>
    <div class="form-group"><label>E-mail</label><input type="email" id="membroEmail" placeholder="joao@email.com"/></div>
    <div class="form-row">
      <div class="form-group"><label>Matrícula <span style="color:var(--texto-dim);font-weight:400">(opcional)</span></label><input type="text" id="membroMatricula" placeholder="Ex: 00142"/></div>
      <div class="form-group"><label>Cargo / Função</label><select id="membroRole"><option>Dev Frontend</option><option>Dev Backend</option><option>Dev Fullstack</option><option>Designer UX/UI</option><option>Data Engineer</option><option>DevOps</option><option>Product Manager</option><option>QA Engineer</option><option>Tech Lead</option><option>Outro</option></select></div>
    </div>
    <div class="form-group"><label>Cor do avatar</label><select id="membroColor"><option value="linear-gradient(135deg,#8b00e8,#5710d1)">Roxo</option><option value="linear-gradient(135deg,#0070e8,#00b4d8)">Azul</option><option value="linear-gradient(135deg,#00a855,#4fffb0)">Verde</option><option value="linear-gradient(135deg,#c47a00,#ffd84f)">Dourado</option><option value="linear-gradient(135deg,#a00030,#ff5e7e)">Vermelho</option><option value="linear-gradient(135deg,#006080,#5ec4ff)">Ciano</option></select></div>
    <!-- Hash display (only when editing) -->
    <div id="membroHashGroup" style="display:none">
      <div class="hash-info-box">
        <span class="hash-icon-lg">⬡</span>
        <div>
          <div style="font-size:.7rem;color:var(--texto-dim);text-transform:uppercase;letter-spacing:.1em;margin-bottom:2px">Hash único do membro</div>
          <div style="font-family:monospace;font-size:.8rem;color:var(--neon)" id="membroHashDisplay">—</div>
        </div>
      </div>
    </div>
    <div class="modal-actions"><button class="btn btn-ghost" data-close="modalMembro">Cancelar</button><button class="btn btn-primary" id="btnSalvarMembro">Adicionar & Convidar</button></div>
  </div>
</div>

<!-- MODAL PERFIL -->
<div class="modal-overlay" id="modalProfile">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">✦ Meu Perfil</div>
      <div class="modal-close" data-close="modalProfile">✕</div>
    </div>
    <div class="profile-avatar-section">
      <!-- Photo upload zone -->
      <div class="profile-photo-wrap" id="profilePhotoWrap">
        <div class="profile-avatar-preview" id="profileAvatarPreview">GL</div>
        <label class="profile-photo-overlay" for="profilePhotoInput" title="Trocar foto">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
            <path d="M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z"/>
            <circle cx="12" cy="13" r="4"/>
          </svg>
          <span>Foto</span>
        </label>
        <input type="file" id="profilePhotoInput" accept="image/*" style="display:none"/>
        <button class="profile-photo-remove" id="btnRemovePhoto" title="Remover foto" style="display:none">✕</button>
      </div>

      <div style="flex:1">
        <div style="font-size:.8rem;font-weight:600;color:var(--texto);margin-bottom:.25rem" id="profilePreviewName">George L.</div>
        <div style="font-size:.72rem;color:var(--texto-dim);margin-bottom:.6rem" id="profilePreviewRole">Admin · Cronos</div>
        <div style="font-size:.7rem;color:var(--texto-dim);margin-bottom:.3rem;text-transform:uppercase;letter-spacing:.08em">Hash da conta</div>
        <div class="hash-info-box" style="padding:.35rem .65rem">
          <span class="hash-icon-lg" style="font-size:.9rem">⬡</span>
          <div style="font-family:monospace;font-size:.72rem;color:var(--neon);flex:1" id="profileHashDisplay">—</div>
          <button class="btn btn-ghost btn-sm" id="btnRegenHash" style="padding:.2rem .5rem;font-size:.68rem">↻</button>
        </div>
        <div style="font-size:.65rem;color:var(--texto-dim);margin-top:.25rem">Formato: JPG, PNG, WEBP · máx 2MB</div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group"><label>Nome</label><input type="text" id="profileNome" placeholder="George"/></div>
      <div class="form-group"><label>Sobrenome</label><input type="text" id="profileSob" placeholder="L."/></div>
    </div>
    <div class="form-group"><label>E-mail</label><input type="email" id="profileEmail" placeholder="george@cronos.app"/></div>
    <div class="form-row">
      <div class="form-group"><label>Cargo</label><input type="text" id="profileCargo" placeholder="Admin"/></div>
      <div class="form-group"><label>Empresa</label><input type="text" id="profileEmpresa" placeholder="Cronos"/></div>
    </div>
    <div class="form-group"><label>Cor do avatar</label>
      <select id="profileColor">
        <option value="linear-gradient(135deg,#8b00e8,#5710d1)">Roxo</option>
        <option value="linear-gradient(135deg,#0070e8,#00b4d8)">Azul</option>
        <option value="linear-gradient(135deg,#00a855,#4fffb0)">Verde</option>
        <option value="linear-gradient(135deg,#c47a00,#ffd84f)">Dourado</option>
        <option value="linear-gradient(135deg,#a00030,#ff5e7e)">Vermelho</option>
        <option value="linear-gradient(135deg,#006080,#5ec4ff)">Ciano</option>
      </select>
    </div>
    <div class="modal-actions"><button class="btn btn-ghost" data-close="modalProfile">Cancelar</button><button class="btn btn-primary" id="btnSalvarProfile">Salvar Perfil</button></div>
  </div>
</div>

<!-- MODAL DETALHE PROJETO -->
<div class="modal-overlay" id="modalDetalheProj">
  <div class="modal modal-lg">
    <div class="modal-header"><div class="modal-title" id="detProjNome">Projeto</div><div class="modal-close" data-close="modalDetalheProj">✕</div></div>
    <div class="detail-section"><div class="detail-title">Informações</div><div id="detProjInfo" style="font-size:.85rem;color:var(--texto-dim);line-height:1.8"></div></div>
    <div class="detail-section">
      <div class="detail-title">Membros do Projeto</div>
      <div class="detail-members-list" id="detProjMembros"></div>
      <div style="margin-top:.7rem;display:flex;gap:.5rem;align-items:center;flex-wrap:wrap">
        <select id="addMembroProj" style="background:rgba(20,0,55,.7);border:1px solid var(--borda);border-radius:8px;padding:.4rem .7rem;color:var(--texto);font-family:'Exo 2',sans-serif;font-size:.82rem;outline:none"><option value="">+ Adicionar membro ativo...</option></select>
        <button class="btn btn-primary btn-sm" id="btnAddMembroProj">Adicionar</button>
      </div>
    </div>
    <div class="detail-section"><div class="detail-title">Tarefas do Projeto</div><div id="detProjTarefas" style="font-size:.83rem"></div></div>
    <div class="modal-actions" style="justify-content:space-between">
      <button class="btn btn-danger btn-sm" id="btnDelProj">Excluir Projeto</button>
      <div style="display:flex;gap:.5rem"><button class="btn btn-ghost" data-close="modalDetalheProj">Fechar</button><button class="btn btn-primary" id="btnEditarProj">Editar</button></div>
    </div>
  </div>
</div>

<!-- MODAL DETALHE TAREFA -->
<div class="modal-overlay" id="modalDetalheTarefa">
  <div class="modal">
    <div class="modal-header"><div class="modal-title" id="detTarefaTitulo">Tarefa</div><div class="modal-close" data-close="modalDetalheTarefa">✕</div></div>
    <div id="detTarefaInfo" style="font-size:.85rem;color:var(--texto-dim);line-height:1.9;margin-bottom:1.2rem"></div>
    <div class="form-group"><label>Mover para</label><select id="moverTarefaStatus"><option value="todo">A Fazer</option><option value="doing">Em Andamento</option><option value="done">Concluído</option></select></div>
    <div class="modal-actions" style="justify-content:space-between">
      <button class="btn btn-danger btn-sm" id="btnDelTarefa">Excluir</button>
      <div style="display:flex;gap:.5rem"><button class="btn btn-ghost" data-close="modalDetalheTarefa">Fechar</button><button class="btn btn-primary" id="btnMoverTarefa">Mover / Salvar</button></div>
    </div>
  </div>
</div>

<!-- MODAL CONFIRMAR -->
<div class="modal-overlay" id="modalConfirm">
  <div class="modal" style="max-width:380px">
    <div class="modal-header"><div class="modal-title" id="confirmTitle">Confirmar</div><div class="modal-close" data-close="modalConfirm">✕</div></div>
    <div class="confirm-msg" id="confirmMsg"></div>
    <div class="modal-actions"><button class="btn btn-ghost" data-close="modalConfirm">Cancelar</button><button class="btn btn-danger" id="btnConfirmOk">Confirmar</button></div>
  </div>
</div>

<!-- MODAL CONVITE (simula o que o funcionário receberia) -->
<div class="modal-overlay" id="modalInvite">
  <div class="modal" style="max-width:440px">
    <div class="modal-header">
      <div class="modal-title">✉ Convite Recebido</div>
      <div class="modal-close" data-close="modalInvite">✕</div>
    </div>

    <div class="invite-card">
      <div class="invite-logo">
        <svg viewBox="0 0 38 38" fill="none" width="32" height="32">
          <circle cx="19" cy="19" r="15" stroke="#fff7ab" stroke-width="1.2" stroke-dasharray="4 3"/>
          <circle cx="19" cy="19" r="8" stroke="#a86dff" stroke-width="1.2"/>
          <circle cx="19" cy="19" r="2.5" fill="#fff7ab"/>
        </svg>
        <span>CRONOS</span>
      </div>
      <p class="invite-greeting">Você foi convidado(a) para ingressar na equipe!</p>
      <div class="invite-info-grid">
        <div class="invite-info-item">
          <div class="invite-info-label">Nome</div>
          <div class="invite-info-val" id="inviteMembroNome">—</div>
        </div>
        <div class="invite-info-item">
          <div class="invite-info-label">Cargo</div>
          <div class="invite-info-val" id="inviteMembroRole">—</div>
        </div>
        <div class="invite-info-item">
          <div class="invite-info-label">E-mail</div>
          <div class="invite-info-val" id="inviteMembroEmail">—</div>
        </div>
        <div class="invite-info-item">
          <div class="invite-info-label">Token hash</div>
          <div class="invite-info-val invite-hash" id="inviteMembroHash">—</div>
        </div>
      </div>
    </div>

    <!-- Accept section -->
    <div id="inviteAcceptSection">
      <p style="font-size:.82rem;color:var(--texto-dim);text-align:center;margin-bottom:1.2rem">Ao aceitar, você confirma os dados acima e ingressa na plataforma Cronos.</p>
      <div class="modal-actions" style="justify-content:center;gap:1rem">
        <button class="btn btn-danger" id="btnRecusarConvite">✕ Recusar</button>
        <button class="btn btn-primary" id="btnAceitarConvite" style="background:linear-gradient(135deg,#00a855,#4fffb0);color:#000">✓ Aceitar Convite</button>
      </div>
    </div>

    <!-- Reject section -->
    <div id="inviteRejectSection" style="display:none">
      <div style="font-size:.85rem;font-weight:600;color:var(--vermelho);margin-bottom:.9rem;text-align:center">⚠ Por favor, informe o motivo da recusa</div>
      <div class="form-group">
        <label>Motivo</label>
        <select id="recusaMotivo">
          <option value="">Selecionar motivo...</option>
          <option value="Atestado médico">Atestado médico</option>
          <option value="Incompatibilidade de horário">Incompatibilidade de horário</option>
          <option value="Já possuo vínculo empregatício">Já possuo vínculo empregatício</option>
          <option value="Questões pessoais">Questões pessoais</option>
          <option value="Outros">Outros</option>
        </select>
      </div>
      <div class="form-group">
        <label>Detalhes <span style="color:var(--texto-dim);font-weight:400">(opcional)</span></label>
        <textarea id="recusaDetalhes" placeholder="Descreva mais detalhes se desejar..." style="height:80px"></textarea>
      </div>
      <p style="font-size:.75rem;color:var(--texto-dim);margin-bottom:.9rem">O gerente responsável será notificado automaticamente.</p>
      <div class="modal-actions" style="justify-content:space-between">
        <button class="btn btn-ghost" id="btnCancelarRecusa">← Voltar</button>
        <button class="btn btn-danger" id="btnConfirmarRecusa">Confirmar Recusa</button>
      </div>
    </div>

  </div>
</div>

<script src="./script.js"></script>
</body>
</html>